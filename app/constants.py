feature_is_negative = {
    # ── A ─────────────────────────────
    "AGE": False,
    "AMT_ANNUITY": False,
    "AMT_CREDIT": False,
    "AMT_GOODS_PRICE": False,
    "AMT_INCOME_TOTAL": False,
    "AMT_REQ_CREDIT_BUREAU_YEAR": False,
    "APARTMENTS_AVG": False,
    # ── B ─────────────────────────────
    "BASEMENTAREA_AVG": False,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_MAX": False,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_MEAN": False,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_SUM": False,
    "BUREAU_AMT_CREDIT_SUM_DEBT_MAX": False,
    "BUREAU_AMT_CREDIT_SUM_DEBT_MEAN": False,
    "BUREAU_AMT_CREDIT_SUM_DEBT_SUM": False,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_MAX": False,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_MEAN": False,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_SUM": False,
    "BUREAU_AMT_CREDIT_SUM_MAX": False,
    "BUREAU_AMT_CREDIT_SUM_MEAN": False,
    "BUREAU_AMT_CREDIT_SUM_SUM": False,
    "BUREAU_DAYS_CREDIT_MAX": True,
    "BUREAU_DAYS_CREDIT_MEAN": True,
    "BUREAU_DAYS_CREDIT_MIN": True,
    "BUREAU_DAYS_CREDIT_UPDATE_MAX": True,
    "BUREAU_DAYS_CREDIT_UPDATE_MEAN": True,
    "BUREAU_DAYS_CREDIT_UPDATE_MIN": True,
    "BUREAU_DAYS_ENDDATE_FACT_MAX": True,
    "BUREAU_DAYS_ENDDATE_FACT_MEAN": True,
    "BUREAU_DAYS_ENDDATE_FACT_MIN": True,
    "BUREAU_DAYS_CREDIT_ENDDATE_MAX": True,
    "BUREAU_DAYS_CREDIT_ENDDATE_MEAN": True,
    "BUREAU_DAYS_CREDIT_ENDDATE_MIN": True,
    "BUREAU_SK_ID_BUREAU_MAX": False,
    "BUREAU_SK_ID_BUREAU_MEAN": False,
    "BUREAU_SK_ID_BUREAU_MIN": False,
    # ── C ─────────────────────────────
    "CHANNEL_TYPE_AP+ (Cash loan)": False,
    "CHANNEL_TYPE_Country-wide": False,
    "CHANNEL_TYPE_Credit and cash offices": False,
    "CHANNEL_TYPE_Regional / Local": False,
    "CHANNEL_TYPE_Stone": False,
    "CNT_CHILDREN": False,
    "CNT_FAM_MEMBERS": False,
    "CODE_REJECT_REASON_HC": False,
    "CODE_REJECT_REASON_LIMIT": False,
    "CODE_REJECT_REASON_SCOFR": False,
    "CODE_REJECT_REASON_XAP": False,
    "COMMONAREA_AVG": False,
    "COMMONAREA_MEDI": False,
    "COMMONAREA_MODE": False,
    "CREDIT_ACTIVE_Active": False,
    "CREDIT_ACTIVE_Closed": False,
    "CREDIT_TYPE_Consumer credit": False,
    "CREDIT_TYPE_Credit card": False,
    # ── D ─────────────────────────────
    "DAYS_BIRTH": True,
    "DAYS_EMPLOYED": True,
    "DAYS_ID_PUBLISH": True,
    "DAYS_LAST_PHONE_CHANGE": True,
    "DAYS_REGISTRATION": True,
    "DEF_30_CNT_SOCIAL_CIRCLE": False,
    # ── E ─────────────────────────────
    "ENTRANCES_AVG": False,
    "EXT_SOURCE_1": False,
    "EXT_SOURCE_2": False,
    "EXT_SOURCE_3": False,
    # ── F ─────────────────────────────
    "FLOORSMAX_AVG": False,
    "FLOORSMIN_AVG": False,
    # ── H ─────────────────────────────
    "HOUR_APPR_PROCESS_START": False,
    # ── L ─────────────────────────────
    "LANDAREA_AVG": False,
    "LIVINGAPARTMENTS_AVG": False,
    "LIVINGAREA_AVG": False,
    # ── N (most are one‑hot flags) ────
    "NAME_CLIENT_TYPE_New": False,
    "NAME_CLIENT_TYPE_Repeater": False,
    "NAME_CONTRACT_STATUS_Active_x": False,
    "NAME_CONTRACT_STATUS_Approved_x": False,
    "NAME_CONTRACT_STATUS_Canceled_x": False,
    "NAME_CONTRACT_STATUS_Completed_x": False,
    "NAME_CONTRACT_STATUS_Refused_x": False,
    "NAME_CONTRACT_STATUS_Signed_x": False,
    "NAME_CONTRACT_TYPE_Cash loans": False,
    "NAME_CONTRACT_TYPE_Consumer loans": False,
    "NAME_CONTRACT_TYPE_Revolving loans": False,
    "NAME_GOODS_CATEGORY_Audio/Video": False,
    "NAME_GOODS_CATEGORY_Computers": False,
    "NAME_GOODS_CATEGORY_Consumer Electronics": False,
    "NAME_GOODS_CATEGORY_Mobile": False,
    "NAME_GOODS_CATEGORY_XNA": False,
    "NAME_PAYMENT_TYPE_Cash through the bank": False,
    "NAME_PAYMENT_TYPE_XNA": False,
    "NAME_PORTFOLIO_Cards": False,
    "NAME_PORTFOLIO_Cash": False,
    "NAME_PORTFOLIO_POS": False,
    "NAME_PORTFOLIO_XNA": False,
    "NAME_PRODUCT_TYPE_XNA": False,
    "NAME_PRODUCT_TYPE_walk-in": False,
    "NAME_PRODUCT_TYPE_x-sell": False,
    "NAME_SELLER_INDUSTRY_Connectivity": False,
    "NAME_SELLER_INDUSTRY_Consumer electronics": False,
    "NAME_SELLER_INDUSTRY_XNA": False,
    "NAME_TYPE_SUITE_Family_y": False,
    "NAME_TYPE_SUITE_Unaccompanied_y": False,
    "NAME_YIELD_GROUP_XNA": False,
    "NAME_YIELD_GROUP_high": False,
    "NAME_YIELD_GROUP_low_normal": False,
    "NAME_YIELD_GROUP_middle": False,
    # ── O ─────────────────────────────
    "OBS_30_CNT_SOCIAL_CIRCLE": False,
    "OBS_60_CNT_SOCIAL_CIRCLE": False,
    "OWN_CAR_AGE": False,
    # ── P ─────────────────────────────
    "POS_CNT_INSTALMENT_FUTURE_MAX": False,
    "POS_CNT_INSTALMENT_FUTURE_MEAN": False,
    "POS_CNT_INSTALMENT_FUTURE_SUM": False,
    "POS_CNT_INSTALMENT_MAX": False,
    "POS_CNT_INSTALMENT_MEAN": False,
    "POS_CNT_INSTALMENT_SUM": False,
    "POS_MONTHS_BALANCE_MAX": True,
    "POS_MONTHS_BALANCE_MEAN": True,
    "POS_MONTHS_BALANCE_SUM": True,
    "POS_SK_DPD_DEF_MAX": False,
    "POS_SK_DPD_DEF_MEAN": False,
    "POS_SK_DPD_DEF_SUM": False,
    "POS_SK_DPD_MAX": False,
    "POS_SK_DPD_MEAN": False,
    "POS_SK_DPD_SUM": False,
    "POS_SK_ID_PREV_MAX": False,
    "POS_SK_ID_PREV_MEAN": False,
    # ── PR (prev. app aggregates) ─────
    "PREVAPP_AMT_ANNUITY_MAX": False,
    "PREVAPP_AMT_ANNUITY_MEAN": False,
    "PREVAPP_AMT_ANNUITY_SUM": False,
    "PREVAPP_AMT_APPLICATION_MAX": False,
    "PREVAPP_AMT_APPLICATION_MEAN": False,
    "PREVAPP_AMT_APPLICATION_SUM": False,
    "PREVAPP_AMT_CREDIT_MAX": False,
    "PREVAPP_AMT_CREDIT_MEAN": False,
    "PREVAPP_AMT_CREDIT_SUM": False,
    "PREVAPP_AMT_DOWN_PAYMENT_MAX": False,
    "PREVAPP_AMT_DOWN_PAYMENT_MEAN": False,
    "PREVAPP_AMT_DOWN_PAYMENT_SUM": False,
    "PREVAPP_AMT_GOODS_PRICE_MAX": False,
    "PREVAPP_AMT_GOODS_PRICE_MEAN": False,
    "PREVAPP_AMT_GOODS_PRICE_SUM": False,
    "PREVAPP_CNT_PAYMENT_MAX": False,
    "PREVAPP_CNT_PAYMENT_MEAN": False,
    "PREVAPP_DAYS_DECISION_MAX": True,
    "PREVAPP_DAYS_DECISION_MEAN": True,
    "PREVAPP_DAYS_FIRST_DRAWING_MEAN": True,
    "PREVAPP_DAYS_FIRST_DUE_MAX": True,
    "PREVAPP_DAYS_FIRST_DUE_MEAN": True,
    "PREVAPP_DAYS_LAST_DUE_1ST_VERSION_MAX": True,
    "PREVAPP_DAYS_LAST_DUE_1ST_VERSION_MEAN": True,
    "PREVAPP_DAYS_LAST_DUE_MAX": True,
    "PREVAPP_DAYS_LAST_DUE_MEAN": True,
    "PREVAPP_DAYS_TERMINATION_MAX": True,
    "PREVAPP_DAYS_TERMINATION_MEAN": True,
    "PREVAPP_HOUR_APPR_PROCESS_START_MAX": False,
    "PREVAPP_HOUR_APPR_PROCESS_START_MEAN": False,
    "PREVAPP_NFLAG_INSURED_ON_APPROVAL_MEAN": False,
    "PREVAPP_RATE_DOWN_PAYMENT_MAX": False,
    "PREVAPP_RATE_DOWN_PAYMENT_MEAN": False,
    "PREVAPP_SELLERPLACE_AREA_MAX": False,
    "PREVAPP_SELLERPLACE_AREA_MEAN": False,
    "PREVAPP_SK_ID_PREV_MAX": False,
    "PREVAPP_SK_ID_PREV_MEAN": False,
    # ── PRD (product‑combo) ───────────
    "PRODUCT_COMBINATION_Cash": False,
    "PRODUCT_COMBINATION_POS mobile with interest": False,
    # ── R ─────────────────────────────
    "REGION_POPULATION_RELATIVE": False,
    "REGION_RATING_CLIENT": False,
    "REGION_RATING_CLIENT_W_CITY": False,
    # ── S ─────────────────────────────
    "SK_ID_CURR": False,
    # ── T ─────────────────────────────
    "TOTALAREA_MODE": False,
    # ── W ─────────────────────────────
    "WEEKDAY_APPR_PROCESS_START_FRIDAY": False,
    "WEEKDAY_APPR_PROCESS_START_MONDAY_y": False,
    "WEEKDAY_APPR_PROCESS_START_SATURDAY_y": False,
    "WEEKDAY_APPR_PROCESS_START_SUNDAY_y": False,
    "WEEKDAY_APPR_PROCESS_START_THURSDAY_y": False,
    "WEEKDAY_APPR_PROCESS_START_TUESDAY_y": False,
    "WEEKDAY_APPR_PROCESS_START_WEDNESDAY_y": False,
    # ── Y ─────────────────────────────
    "YEARS_BEGINEXPLUATATION_AVG": False,
    "YEARS_BUILD_AVG": False,
}


# … FEATURE_ORDER, FLAG_COLUMNS, PRIORITY_FLAG_GROUPS already here …

# Numerical defaults
NUMERIC_DEFAULTS = {
    # ── Medians (days / counts etc.) ─────────────────────
    "BUREAU_DAYS_CREDIT_MAX": -300.00,
    "BUREAU_DAYS_CREDIT_MEAN": -1050.57,
    "BUREAU_DAYS_CREDIT_MIN": -1827.00,
    "BUREAU_DAYS_CREDIT_ENDDATE_MEAN": -159.20,
    "BUREAU_DAYS_CREDIT_ENDDATE_MAX": 898.00,
    "BUREAU_DAYS_CREDIT_ENDDATE_MIN": -1253.00,
    "BUREAU_DAYS_CREDIT_UPDATE_MEAN": -481.83,
    "BUREAU_DAYS_CREDIT_UPDATE_MIN": -1055.00,
    "BUREAU_DAYS_CREDIT_UPDATE_MAX": -19.00,
    "BUREAU_DAYS_ENDDATE_FACT_MEAN": -897.00,
    "BUREAU_DAYS_ENDDATE_FACT_MAX": -424.00,
    "BUREAU_DAYS_ENDDATE_FACT_MIN": -1241.00,
    "BUREAU_SK_ID_BUREAU_MIN": 5826695.00,
    "BUREAU_SK_ID_BUREAU_MAX": 5886558.00,
    "BUREAU_SK_ID_BUREAU_MEAN": 5854116.50,
    "PREVAPP_SK_ID_PREV_MAX": 2535495.00,
    "PREVAPP_SK_ID_PREV_MEAN": 1919407.20,
    "PREVAPP_DAYS_DECISION_MEAN": -789.00,
    "PREVAPP_DAYS_DECISION_MAX": -299.00,
    "PREVAPP_DAYS_LAST_DUE_1ST_VERSION_MEAN": -277.00,
    "PREVAPP_DAYS_LAST_DUE_1ST_VERSION_MAX": 152.00,
    "PREVAPP_DAYS_FIRST_DUE_MEAN": -831.00,
    "PREVAPP_DAYS_FIRST_DUE_MAX": -387.00,
    "PREVAPP_DAYS_LAST_DUE_MEAN": -96.00,
    "PREVAPP_DAYS_LAST_DUE_MAX": -21.00,
    "PREVAPP_DAYS_TERMINATION_MEAN": 25028.93,
    "PREVAPP_DAYS_TERMINATION_MAX": 365243.00,
    "PREVAPP_DAYS_FIRST_DRAWING_MEAN": 365243.00,
    "PREVAPP_CNT_PAYMENT_MEAN": 12.00,
    "PREVAPP_CNT_PAYMENT_MAX": 18.00,
    "PREVAPP_RATE_DOWN_PAYMENT_MEAN": 0.05,
    "PREVAPP_RATE_DOWN_PAYMENT_MAX": 0.10,
    "PREVAPP_SELLERPLACE_AREA_MEAN": 79.00,
    "PREVAPP_SELLERPLACE_AREA_MAX": 158.00,
    "PREVAPP_HOUR_APPR_PROCESS_START_MEAN": 12.75,
    "PREVAPP_HOUR_APPR_PROCESS_START_MAX": 15.00,
    "POS_SK_ID_PREV_MEAN": 1899682.40,
    "POS_SK_ID_PREV_MAX": 2353350.00,
    "POS_CNT_INSTALMENT_FUTURE_MEAN": 6.95,
    "POS_CNT_INSTALMENT_FUTURE_SUM": 164.00,
    "POS_CNT_INSTALMENT_FUTURE_MAX": 12.00,
    "POS_CNT_INSTALMENT_SUM": 288.00,
    "POS_CNT_INSTALMENT_MEAN": 12.00,
    "POS_CNT_INSTALMENT_MAX": 12.00,
    "POS_MONTHS_BALANCE_SUM": -687.00,
    "POS_MONTHS_BALANCE_MEAN": -28.59,
    "POS_MONTHS_BALANCE_MAX": -4.00,
    "DAYS_LAST_PHONE_CHANGE": -757.00,
    "AGE": 43.00,
    "OWN_CAR_AGE": 9.00,
    "HOUR_APPR_PROCESS_START": 12.00,
    "REGION_POPULATION_RELATIVE": 0.02,
    "YEARS_BEGINEXPLUATATION_AVG": 0.98,
    "APARTMENTS_AVG": 0.09,
    "YEARS_BUILD_AVG": 0.76,
    "ENTRANCES_AVG": 0.14,
    "FLOORSMAX_AVG": 0.17,
    "FLOORSMIN_AVG": 0.21,
    "AMT_REQ_CREDIT_BUREAU_YEAR": 1.00,

    # ── Means (amount / financial) ───────────────────────
    "BUREAU_AMT_CREDIT_SUM_SUM": 1813502.67,
    "BUREAU_AMT_CREDIT_SUM_MEAN": 351942.67,
    "BUREAU_AMT_CREDIT_SUM_MAX": 900704.23,
    "BUREAU_AMT_CREDIT_SUM_DEBT_MEAN": 122332.27,
    "BUREAU_AMT_CREDIT_SUM_DEBT_SUM": 573136.69,
    "BUREAU_AMT_CREDIT_SUM_DEBT_MAX": 454118.79,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_MEAN": 1666.49,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_MAX": 5618.77,
    "BUREAU_AMT_CREDIT_MAX_OVERDUE_SUM": 6626.06,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_MEAN": 3389.88,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_SUM": 20190.38,
    "BUREAU_AMT_CREDIT_SUM_LIMIT_MAX": 17566.08,
    "PREVAPP_AMT_ANNUITY_MEAN": 13660.25,
    "PREVAPP_AMT_ANNUITY_SUM": 70639.27,
    "PREVAPP_AMT_ANNUITY_MAX": 23631.22,
    "PREVAPP_AMT_APPLICATION_MEAN": 151436.96,
    "PREVAPP_AMT_APPLICATION_SUM": 826065.00,
    "PREVAPP_AMT_APPLICATION_MAX": 365382.42,
    "PREVAPP_AMT_CREDIT_MEAN": 167254.44,
    "PREVAPP_AMT_CREDIT_SUM": 925575.59,
    "PREVAPP_AMT_CREDIT_MAX": 403759.93,
    "PREVAPP_AMT_GOODS_PRICE_SUM": 947741.78,
    "PREVAPP_AMT_GOODS_PRICE_MEAN": 169479.65,
    "PREVAPP_AMT_GOODS_PRICE_MAX": 368372.28,
    "PREVAPP_AMT_DOWN_PAYMENT_MEAN": 4808.05,
    "PREVAPP_AMT_DOWN_PAYMENT_SUM": 18958.50,
    "PREVAPP_AMT_DOWN_PAYMENT_MAX": 11005.23,
    "TOTALAREA_MODE": 0.09,
    "LIVINGAREA_AVG": 0.09,
    "BASEMENTAREA_AVG": 0.08,
    "LANDAREA_AVG": 0.06,
    "LIVINGAPARTMENTS_AVG": 0.08,
    "NONLIVINGAREA_AVG": 0.01,
    "COMMONAREA_MODE": 0.03,
    "COMMONAREA_AVG": 0.03,
    "COMMONAREA_MEDI": 0.03,
    "AMT_INCOME_TOTAL": 168797.92,
    "AMT_CREDIT": 599026.00,
    "AMT_ANNUITY": 27108.49,
    "AMT_GOODS_PRICE": 538316.29,
}










FLAG_COLUMNS = [
    "NAME_CONTRACT_STATUS_Active_x",
    "NAME_CONTRACT_STATUS_Completed_x",
    "NAME_CONTRACT_STATUS_Refused_x",
    "NAME_CONTRACT_STATUS_Approved_x",
    "CREDIT_ACTIVE_Closed",
    "CREDIT_ACTIVE_Active",
    "CODE_REJECT_REASON_XAP",
    "CODE_REJECT_REASON_HC",
    "CODE_REJECT_REASON_LIMIT",
    "CODE_REJECT_REASON_SCOFR",
    "NAME_YIELD_GROUP_high",
    "NAME_YIELD_GROUP_middle",
    "NAME_YIELD_GROUP_XNA",
    "NAME_YIELD_GROUP_low_normal",
    "NAME_PAYMENT_TYPE_XNA",
    "NAME_PAYMENT_TYPE_Cash through the bank",
    "NAME_CLIENT_TYPE_Repeater",
    "NAME_CLIENT_TYPE_New",
    "NAME_PORTFOLIO_POS",
    "NAME_PORTFOLIO_XNA",
    "NAME_PORTFOLIO_Cash",
    "NAME_PORTFOLIO_Cards",
    "NAME_PRODUCT_TYPE_walk-in",
    "NAME_PRODUCT_TYPE_XNA",
    "NAME_PRODUCT_TYPE_x-sell",
    "NAME_CONTRACT_TYPE_Cash loans",
    "NAME_CONTRACT_TYPE_Consumer loans",
    "NAME_CONTRACT_TYPE_Revolving loans",
    "NAME_CONTRACT_STATUS_Signed_x",
    "NAME_CONTRACT_STATUS_Canceled_x",
    "NAME_TYPE_SUITE_Unaccompanied_y",
    "NAME_TYPE_SUITE_Family_y",
    "NAME_GOODS_CATEGORY_XNA",
    "NAME_GOODS_CATEGORY_Mobile",
    "NAME_GOODS_CATEGORY_Audio/Video",
    "NAME_GOODS_CATEGORY_Computers",
    "NAME_GOODS_CATEGORY_Consumer Electronics",
    "NAME_SELLER_INDUSTRY_XNA",
    "NAME_SELLER_INDUSTRY_Connectivity",
    "NAME_SELLER_INDUSTRY_Consumer electronics",
    "PRODUCT_COMBINATION_POS mobile with interest",
    "PRODUCT_COMBINATION_Cash",
    "CHANNEL_TYPE_Country-wide",
    "CHANNEL_TYPE_Credit and cash offices",
    "CHANNEL_TYPE_Stone",
    "CHANNEL_TYPE_AP+ (Cash loan)",
    "CHANNEL_TYPE_Regional / Local",
    "WEEKDAY_APPR_PROCESS_START_THURSDAY_y",
    "WEEKDAY_APPR_PROCESS_START_MONDAY_y",
    "WEEKDAY_APPR_PROCESS_START_WEDNESDAY_y",
    "WEEKDAY_APPR_PROCESS_START_TUESDAY_y",
    "WEEKDAY_APPR_PROCESS_START_FRIDAY",
    "WEEKDAY_APPR_PROCESS_START_SATURDAY_y",
    "WEEKDAY_APPR_PROCESS_START_SUNDAY_y",
]
